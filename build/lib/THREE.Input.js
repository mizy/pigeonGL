~function(){THREE=THREE||{},THREE.Input={};var e=["shift","ctrl","alt","altgr"],n={leftArrow:[37],upArrow:[38],rightArrow:[39],downArrow:[40],space:[32],pageup:[33],pagedown:[34],tab:[9],backspace:[8],suppr:[46],escape:[27],enter:[13],F1:[112],F2:[113],F3:[114],F4:[115],F5:[116],F6:[117],F7:[118],F8:[119],F9:[120],F10:[121],F11:[122],F12:[123]},t=new Array(256),r=new Array(4),u={},s={},o={},a=null,c=!1,d=!1,E=!1,f=!1,p=1/0,l=1/0,w="none";document.addEventListener("keydown",function(e){h(e,!0)},!1),document.addEventListener("keyup",function(e){h(e,!1)},!1),document.addEventListener("keypress",function(e){y(e.keyCode,e.shiftKey)},!1),document.addEventListener("mousedown",function(e){switch(e.button){case 0:w="left";break;case 1:w="middle";break;case 2:w="right"}d=!0,E=!1},!1),document.addEventListener("mouseup",function(e){d=!1,f=!0,w="none"},!1),document.addEventListener("mousemove",function(e){p=e.clientX,l=e.clientY,p<0&&(p=0),p>window.innerWidth&&(p=window.innerWidth),l<0&&(l=0),l>window.innerHeight&&(l=window.innerHeight)},!1);var h=function(e,n){switch(c=n,t[e.keyCode]=n,e.keyIdentifier){case"U+0000":r.altgr=n;break;case"Alt":r.alt=n;break;case"Control":r.ctrl=n;break;case"Shift":r.shift=n}var i=n?s:u;for(var o in i)i[o]=!1},y=function(e){a=String.fromCharCode(e)};THREE.Input.getTextEntered=function(){var e=a;return a=null,e},THREE.Input.isKeyDown=function(e){return!!THREE.Input.isKeyPressed(e)&&(!u[e]&&(u[e]=!0,!0))},THREE.Input.isKeyUp=function(e){return!THREE.Input.isKeyPressed(e)&&(!s[e]&&(s[e]=!0,!0))},THREE.Input.isKeyRepeat=function(e,n,t){if(this.isKeyPressed(e)){if(o[e]<=0)return o[e]=n,!0;o[e]-=t}else o[e]=0;return!1},THREE.Input.isKeyPressed=function(u){var s,o,a,d;switch(typeof u){case"undefined":return c;case"number":return t[code];case"string":s=u.split("+");break;default:throw Error("The key `"+u+"` have to be undefined, a number or a string.")}if(a=1==s.length?s[0]:s[1],d=1==s.length?null:s[0],-1!==Object.keys(n).indexOf(a)){for(i in n[a])if(i=n[a][i],1==(o=t[i]))break}else o=t[a.toUpperCase().charCodeAt(0)];return 1==o&&null!==d&&-1!==e.indexOf(s[0])&&(o=r[d]),o},THREE.Input.setAlias=function(e){if(arguments.length<2)return console.error("setAlias need a key and some keyCode values.");n[e]=[];for(var t=1;t<arguments.length;++t)n[e].push(arguments[t])},THREE.Input.getAlias=function(e){return n[e]},THREE.Input.showAlias=function(){console.log(JSON.stringify(n))},THREE.Input.getMouseX=function(){return p},THREE.Input.getMouseY=function(){return l},THREE.Input.getMouseButton=function(){return w},THREE.Input.isMousePressed=function(){return d},THREE.Input.isMouseDown=function(){return!!THREE.Input.isMousePressed()&&(!E&&(E=!0,!0))},THREE.Input.isMouseUp=function(){return!(THREE.Input.isMousePressed()||!f)&&(f=!1,!0)},THREE.Input.getAxis=function(e){switch(e){case"mouse x":case"mouse y":case"arrows x":case"arrows y":return 0}return 0}}();