{"map":"{\"version\":3,\"sources\":[\"pigeonGL.js\"],\"names\":[\"root\",\"factory\",\"exports\",\"module\",\"define\",\"amd\",\"window\",\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"instance\",\"Constructor\",\"TypeError\",\"_defineProperties\",\"target\",\"props\",\"length\",\"descriptor\",\"configurable\",\"writable\",\"protoProps\",\"staticProps\",\"_typeof\",\"assertThisInitialized\",\"self\",\"_getPrototypeOf\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"subClass\",\"superClass\",\"constructor\",\"__webpack_exports__\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default\",\"Layer\",\"config\",\"this\",\"layers\",\"x\",\"_userConfig\",\"type\",\"listener\",\"undefined\",\"_listeners\",\"listeners\",\"indexOf\",\"push\",\"event\",\"listenerArray\",\"array\",\"slice\",\"index\",\"splice\",\"map\",\"pigeonMap\",\"layer\",\"id\",\"_layerid\",\"onAdd\",\"onRemove\",\"_typeof2\",\"obj\",\"iterator\",\"utils\",\"CameraControl\",\"scope\",\"camera\",\"active\",\"world\",\"THREE\",\"Group\",\"position\",\"y\",\"matrixAutoUpdate\",\"update\",\"assign\",\"initMapTransform\",\"updateCamera\",\"transform\",\"width\",\"height\",\"zHeight\",\"center\",\"z\",\"getZ\",\"zoom\",\"_pitch\",\"pitch\",\"Math\",\"PI\",\"angle\",\"rotation\",\"rad\",\"ev\",\"abs\",\"fov\",\"cameraToCenterDistance\",\"halfFov\",\"groundAngle\",\"topHalfSurfaceDistance\",\"sin\",\"farZ\",\"cos\",\"projectionMatrix\",\"makePerspectiveMatrix\",\"cameraWorldMatrix\",\"Matrix4\",\"cameraTranslateZ\",\"makeTranslation\",\"cameraRotateX\",\"makeRotationX\",\"cameraRotateZ\",\"makeRotationZ\",\"premultiply\",\"matrixWorld\",\"copy\",\"WORLD_SIZE\",\"pow\",\"WORLD_SIZE_RATIO\",\"PROJECTION_WORLD_SIZE\",\"MERCATOR_A\",\"DEG2RAD\",\"RAD2DEG\",\"EARTH_CIRCUMFERENCE\",\"DISTANCE\",\"arrayWithoutHoles\",\"iterableToArray\",\"nonIterableSpread\",\"arr\",\"PigeonGL\",\"MTLLoader\",\"OBJLoader\",\"Map\",\"ThirdPersonView\",\"MapControl\",\"TextLayer\",\"VRLayer\",\"CloudPoints\",\"Text\",\"manager\",\"DefaultLoadingManager\",\"load\",\"url\",\"onLoad\",\"onProgress\",\"onError\",\"loader\",\"FileLoader\",\"setPath\",\"path\",\"text\",\"parse\",\"setTexturePath\",\"texturePath\",\"setBaseUrl\",\"console\",\"warn\",\"setCrossOrigin\",\"crossOrigin\",\"setMaterialOptions\",\"materialOptions\",\"lines\",\"split\",\"info\",\"delimiter_pattern\",\"materialsInfo\",\"line\",\"trim\",\"charAt\",\"pos\",\"substring\",\"toLowerCase\",\"ss\",\"parseFloat\",\"materialCreator\",\"MaterialCreator\",\"setManager\",\"setMaterials\",\"baseUrl\",\"options\",\"materials\",\"materialsArray\",\"nameLookup\",\"side\",\"FrontSide\",\"wrap\",\"RepeatWrapping\",\"convert\",\"converted\",\"mn\",\"mat\",\"covmat\",\"prop\",\"save\",\"lprop\",\"normalizeRGB\",\"ignoreZeroRGBs\",\"preload\",\"getIndex\",\"materialName\",\"getAsArray\",\"createMaterial_\",\"params\",\"setMapForType\",\"mapType\",\"texParams\",\"getTextureParams\",\"loadTexture\",\"test\",\"repeat\",\"scale\",\"offset\",\"wrapS\",\"wrapT\",\"color\",\"Color\",\"fromArray\",\"specular\",\"shininess\",\"opacity\",\"transparent\",\"MeshPhongMaterial\",\"matParams\",\"Vector2\",\"items\",\"bumpScale\",\"set\",\"join\",\"mapping\",\"texture\",\"Loader\",\"Handlers\",\"TextureLoader\",\"regexp\",\"vertex_pattern\",\"normal_pattern\",\"uv_pattern\",\"face_vertex\",\"face_vertex_uv\",\"face_vertex_uv_normal\",\"face_vertex_normal\",\"object_pattern\",\"smoothing_pattern\",\"material_library_pattern\",\"material_use_pattern\",\"_createParserState\",\"state\",\"objects\",\"vertices\",\"normals\",\"uvs\",\"materialLibraries\",\"startObject\",\"fromDeclaration\",\"previousMaterial\",\"currentMaterial\",\"_finalize\",\"geometry\",\"smooth\",\"startMaterial\",\"libraries\",\"previous\",\"inherited\",\"groupCount\",\"material\",\"mtllib\",\"Array\",\"isArray\",\"groupStart\",\"groupEnd\",\"clone\",\"cloned\",\"end\",\"lastMultiMaterial\",\"mi\",\"declared\",\"finalize\",\"parseVertexIndex\",\"len\",\"parseInt\",\"parseNormalIndex\",\"parseUVIndex\",\"addVertex\",\"a\",\"b\",\"src\",\"dst\",\"addVertexLine\",\"addNormal\",\"addUV\",\"addUVLine\",\"addFace\",\"ua\",\"ub\",\"uc\",\"ud\",\"na\",\"nb\",\"nc\",\"nd\",\"vLen\",\"ia\",\"ib\",\"ic\",\"uvLen\",\"nLen\",\"addLineGeometry\",\"vi\",\"uvi\",\"replace\",\"lineFirstChar\",\"lineSecondChar\",\"result\",\"trimLeft\",\"exec\",\"Error\",\"lineParts\",\"lineVertices\",\"lineUVs\",\"li\",\"llen\",\"parts\",\"substr\",\"container\",\"concat\",\"isLine\",\"buffergeometry\",\"BufferGeometry\",\"addAttribute\",\"BufferAttribute\",\"Float32Array\",\"computeVertexNormals\",\"mesh\",\"createdMaterials\",\"miLen\",\"sourceMaterial\",\"LineBasicMaterial\",\"materialLine\",\"lights\",\"flatShading\",\"SmoothShading\",\"FlatShading\",\"addGroup\",\"multiMaterial\",\"MultiMaterial\",\"LineSegments\",\"Mesh\",\"add\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default\",\"_Camera_CameraControl_js__WEBPACK_IMPORTED_MODULE_5__\",\"_Layers_Layer_js__WEBPACK_IMPORTED_MODULE_6__\",\"PigeonGLConstants\",\"_Layer\",\"_this\",\"zIndex\",\"status\",\"clock\",\"Clock\",\"start\",\"initMap\",\"initWorld\",\"hasGround\",\"addGround\",\"renderer\",\"WebGLRenderer\",\"alpha\",\"antialias\",\"rendererOptions\",\"setSize\",\"appendChild\",\"domElement\",\"style\",\"scene\",\"Scene\",\"sceneOptions\",\"PerspectiveCamera\",\"cameraControl\",\"coord\",\"geoGroup\",\"arguments\",\"preScale\",\"userData\",\"isGeoGroup\",\"parent\",\"projectToWorld\",\"coordinates\",\"device\",\"_this2\",\"delta\",\"getDelta\",\"render\",\"vr\",\"getDevice\",\"animationframe\",\"requestAnimationFrame\",\"timestamp\",\"param\",\"coords\",\"standarVector\",\"getWorldPosition\",\"project\",\"round\",\"pixel\",\"standX\",\"standY\",\"Vector3\",\"unproject\",\"worldPosition\",\"unprojectFromWorld\",\"sub\",\"moveTo\",\"PlaneGeometry\",\"groundColor\",\"plane\",\"addAtCoordinate\",\"scaleToLatitude\",\"remove\",\"AmbientLight\",\"sunlight\",\"DirectionalLight\",\"matrixWorldNeedsUpdate\",\"ReferenceError\",\"_setPrototypeOf\",\"prettyPrintMatrix\",\"radify\",\"degreeify\",\"_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__\",\"_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default\",\"uglymatrix\",\"fovy\",\"aspect\",\"near\",\"far\",\"out\",\"f\",\"tan\",\"nf\",\"elements\",\"deg\",\"degree\",\"ThirdPersonLayer\",\"defaultParams\",\"viewRotation\",\"targetRotation\",\"autoUpdate\",\"lockRotation\",\"initCamera\",\"lnglat\",\"setRotation\",\"setCenter\",\"zoomBase\",\"moveSpeed\",\"pitchSpeed\",\"rotateSpeed\",\"initConfig\",\"listenEvents\",\"on\",\"fire\",\"_this3\",\"onDown\",\"button\",\"mouseStatus\",\"mouseDownPosition\",\"clientX\",\"clientY\",\"addEventListener\",\"onMove\",\"onUp\",\"removeEventListener\",\"yDis\",\"xDis\",\"distance\",\"sqrt\",\"asin\",\"ratio\",\"onWheel\",\"deltaY\",\"preventDefault\",\"onContextmenu\",\"e\",\"stopPropagation\",\"fontSize\",\"canvasRender\",\"texts\",\"textId\",\"initCanvas\",\"initDom\",\"change\",\"updateText\",\"div\",\"document\",\"createElement\",\"className\",\"setAttribute\",\"top\",\"left\",\"dom\",\"canvas\",\"drawCanvasText\",\"drawDomText\",\"innerHTML\",\"xy\",\"projectToScreen\",\"span\",\"ctx\",\"getContext\",\"clearRect\",\"font\",\"fillStyle\",\"fillText\",\"querySelectorAll\",\"drawText\",\"updateDomText\",\"off\",\"noVR\",\"vrStatus\",\"getVRDisplays\",\"navigator\",\"then\",\"displays\",\"enabled\",\"setDevice\",\"frameData\",\"VRFrameData\",\"display\",\"detail\",\"requestPresent\",\"source\",\"exitPresent\",\"bottom\",\"padding\",\"border\",\"borderRadius\",\"background\",\"textAlign\",\"outline\",\"cursor\",\"textContent\",\"body\",\"enterVR\",\"initVRRenderer\",\"PointsLayer\",\"lanePoints\",\"initPoints\",\"PointsMaterial\",\"size\",\"pointsGeometry\",\"points\",\"Points\",\"data\",\"baseLngLat\",\"baseXYZ\",\"xyz\",\"colors\",\"Float32BufferAttribute\",\"computeBoundingSphere\",\"_default\",\"_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__\",\"_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default\",\"_THREE$Sprite\",\"textHeight\",\"SpriteMaterial\",\"Texture\",\"_text\",\"_textHeight\",\"_color\",\"_fontFace\",\"_fontSize\",\"_fontWeight\",\"_canvas\",\"_texture\",\"minFilter\",\"LinearFilter\",\"_genCanvas\",\"max\",\"apply\",\"measureText\",\"fontWeight\",\"fontFace\",\"textBaseline\",\"forEach\",\"image\",\"needsUpdate\",\"yScale\",\"Sprite\",\"arr2\",\"iter\",\"toString\",\"from\"],\"mappings\":\"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\"}","code":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"pigeon-gl\"]=e():t[\"pigeon-gl\"]=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=10)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,i){var n=i(6),r=i(14);t.exports=function(t,e){return!e||\"object\"!==n(e)&&\"function\"!=typeof e?r(t):e}},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e,i){var n=i(15);t.exports=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=function(){function t(e){r()(this,t),this.layers=[];for(var i in this._userConfig=e,e)this[i]=e[i]}return s()(t,[{key:\"on\",value:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}},{key:\"fire\",value:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i)for(var n=i.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e)}}},{key:\"off\",value:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i)if(e){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}else this._listeners[t]=[]}}},{key:\"initConfig\",value:function(t){}},{key:\"onAdd\",value:function(t){this.pigeonMap=t}},{key:\"update\",value:function(){}},{key:\"onRemove\",value:function(){this._listeners&&(this._listeners=[])}},{key:\"addLayer\",value:function(t){t.id=++this._layerid,this.layers.push(t),t.onAdd(this)}},{key:\"removeLayer\",value:function(t){for(var e in this.layers)if(this.layers[e].id==t.id)return this.layers[e].onRemove(),void this.layers.splice(e,1)}},{key:\"getLayerById\",value:function(t){for(var e=0;e<this.layers.length;e++)if(this.layer.id===t)return layer}}]),t}();e.default=o},function(t,e){function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function n(e){return\"function\"==typeof Symbol&&\"symbol\"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":i(t)},n(e)}t.exports=n},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=(i(8),i(16)),h=function(){function t(e){r()(this,t),this.scope=e,this.map=e.map,this.camera=e.camera,this.active=!0,this.world=e.world||new THREE.Group,this.world.position.x=this.world.position.y=0,this.camera.matrixAutoUpdate=!1,this.update()}return s()(t,[{key:\"update\",value:function(t){this.map=Object.assign(this.map,t),this.initMapTransform(),this.updateCamera()}},{key:\"listenMapChange\",value:function(){this.update(this.map)}},{key:\"initMapTransform\",value:function(){var t={};t.width=this.map.width,t.height=this.map.height,t.zHeight=this.map.zHeight||0,t.x=this.map.center[0],t.y=this.map.center[1],t.z=this.map.center[2]||this.getZ(this.map.zoom),t._pitch=this.map.pitch*Math.PI/180||0,t.angle=this.map.rotation*Math.PI/180||0,this.map.transform=t}},{key:\"getZ\",value:function(t){return t}},{key:\"setCenter\",value:function(t){this.map.center=t,this.initMapTransform()}},{key:\"setRotation\",value:function(t){this.map.rotation=t,this.map.transform.angle=this.map.rotation*Math.PI/180}},{key:\"setPitch\",value:function(t){this.map.pitch=t,this.map.transform._pitch=this.map.pitch*Math.PI/180}},{key:\"updateCamera\",value:function(t){var e=Math.abs(this.map.transform.z)+this.map.transform.zHeight,i=this.map.fov||.6435011087932844,n=e,r=i/2,a=Math.PI/2+this.map.transform._pitch,s=Math.sin(r)*n/Math.sin(Math.PI-a-r),h=1.01*(Math.cos(Math.PI/2-this.map.transform._pitch)*s+n);this.camera.projectionMatrix=o.makePerspectiveMatrix(i,this.map.transform.width/this.map.transform.height,1,h);var u=new THREE.Matrix4,l=(new THREE.Matrix4).makeTranslation(0,0,e),c=(new THREE.Matrix4).makeRotationX(this.map.transform._pitch),p=(new THREE.Matrix4).makeRotationZ(this.map.transform.angle);u.premultiply(l).premultiply(c).premultiply(p),this.camera.matrixWorld.copy(u),this.world.position.x=-this.map.transform.x,this.world.position.y=-this.map.transform.y}}]),t}();e.default=h},function(t,e){var i=512*Math.pow(2,0);t.exports={WORLD_SIZE_RATIO:0,WORLD_SIZE:i,PROJECTION_WORLD_SIZE:i/(6378137*Math.PI)/2,MERCATOR_A:6378137,DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,EARTH_CIRCUMFERENCE:40075e3,DISTANCE:200}},function(t,e,i){var n=i(23),r=i(24),a=i(25);t.exports=function(t){return n(t)||r(t)||a()}},function(t,e,i){\"use strict\";i.r(e);var n={MTLLoader:i(11),OBJLoader:i(12),Map:i(13).default,Layer:i(5).default,CameraControl:i(7).default,ThirdPersonView:i(17).default,MapControl:i(18).default,TextLayer:i(19).default,VRLayer:i(20).default,CloudPoints:i(21).default,Text:i(22).default};window.PigeonGL=n,e.default=n},function(t,e){var i=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager};i.prototype={constructor:i,load:function(t,e,i,n){var r=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.load(t,(function(t){e(r.parse(t))}),i,n)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn(\"THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.\"),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split(\"\\n\"),n={},r=/\\s+/,a={},s=0;s<e.length;s++){var o=e[s];if(0!==(o=o.trim()).length&&\"#\"!==o.charAt(0)){var h=o.indexOf(\" \"),u=h>=0?o.substring(0,h):o;u=u.toLowerCase();var l=h>=0?o.substring(h+1):\"\";if(l=l.trim(),\"newmtl\"===u)n={name:l},a[l]=n;else if(n)if(\"ka\"===u||\"kd\"===u||\"ks\"===u){var c=l.split(r,3);n[u]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[u]=l}}var p=new i.MaterialCreator(this.texturePath||this.path,this.materialOptions);return p.setCrossOrigin(this.crossOrigin),p.setManager(this.manager),p.setMaterials(a),p}},(i.MaterialCreator=function(t,e){this.baseUrl=t||\"\",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping}).prototype={constructor:i.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var i in t){var n=t[i],r={};for(var a in e[i]=r,n){var s=!0,o=n[a],h=a.toLowerCase();switch(h){case\"kd\":case\"ka\":case\"ks\":this.options&&this.options.normalizeRGB&&(o=[o[0]/255,o[1]/255,o[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===o[0]&&0===o[1]&&0===o[2]&&(s=!1)}s&&(r[h]=o)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,i=this.materialsInfo[t],n={name:t,side:this.side};function r(t,i){if(!n[t]){var r,a,s=e.getTextureParams(i,n),o=e.loadTexture((r=e.baseUrl,\"string\"!=typeof(a=s.url)||\"\"===a?\"\":/^https?:\\/\\//i.test(a)?a:r+a));o.repeat.copy(s.scale),o.offset.copy(s.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,n[t]=o}}for(var a in i){var s=i[a];if(\"\"!==s)switch(a.toLowerCase()){case\"kd\":n.color=(new THREE.Color).fromArray(s);break;case\"ks\":n.specular=(new THREE.Color).fromArray(s);break;case\"map_kd\":r(\"map\",s);break;case\"map_ks\":r(\"specularMap\",s);break;case\"map_bump\":case\"bump\":r(\"bumpMap\",s);break;case\"ns\":n.shininess=parseFloat(s);break;case\"d\":s<1&&(n.opacity=s,n.transparent=!0);break;case\"Tr\":s>0&&(n.opacity=1-s,n.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(n),this.materials[t]},getTextureParams:function(t,e){var i,n={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},r=t.split(/\\s+/);return(i=r.indexOf(\"-bm\"))>=0&&(e.bumpScale=parseFloat(r[i+1]),r.splice(i,2)),(i=r.indexOf(\"-s\"))>=0&&(n.scale.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),(i=r.indexOf(\"-o\"))>=0&&(n.offset.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),n.url=r.join(\" \").trim(),n},loadTexture:function(t,e,i,n,r){var a,s=THREE.Loader.Handlers.get(t),o=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===s&&(s=new THREE.TextureLoader(o)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),a=s.load(t,i,n,r),void 0!==e&&(a.mapping=e),a}},t.exports=i},function(t,e){var i=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,normal_pattern:/^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,uv_pattern:/^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,face_vertex:/^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,face_vertex_uv:/^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,face_vertex_uv_normal:/^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,face_vertex_normal:/^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,object_pattern:/^[og]\\s*(.+)?/,smoothing_pattern:/^s\\s+(\\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};i.prototype={constructor:i,load:function(t,e,i,n){var r=this,a=new THREE.FileLoader(r.manager);a.setPath(this.path),a.load(t,(function(t){e(r.parse(t))}),i,n)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var i=this.object&&\"function\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||\"\",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);var n={index:this.materials.length,name:t||\"\",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:\"\",smooth:void 0!==i?i.smooth:this.smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:\"number\"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var i=this.materials.length-1;i>=0;i--)this.materials[i].groupCount<=0&&this.materials.splice(i,1);return t&&0===this.materials.length&&this.materials.push({name:\"\",smooth:this.smooth}),e}},i&&i.name&&\"function\"==typeof i.clone){var n=i.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseNormalIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseUVIndex:function(t,e){var i=parseInt(t,10);return 2*(i>=0?i-1:i+e/2)},addVertex:function(t,e,i){var n=this.vertices,r=this.object.geometry.vertices;r.push(n[t+0]),r.push(n[t+1]),r.push(n[t+2]),r.push(n[e+0]),r.push(n[e+1]),r.push(n[e+2]),r.push(n[i+0]),r.push(n[i+1]),r.push(n[i+2])},addVertexLine:function(t){var e=this.vertices,i=this.object.geometry.vertices;i.push(e[t+0]),i.push(e[t+1]),i.push(e[t+2])},addNormal:function(t,e,i){var n=this.normals,r=this.object.geometry.normals;r.push(n[t+0]),r.push(n[t+1]),r.push(n[t+2]),r.push(n[e+0]),r.push(n[e+1]),r.push(n[e+2]),r.push(n[i+0]),r.push(n[i+1]),r.push(n[i+2])},addUV:function(t,e,i){var n=this.uvs,r=this.object.geometry.uvs;r.push(n[t+0]),r.push(n[t+1]),r.push(n[e+0]),r.push(n[e+1]),r.push(n[i+0]),r.push(n[i+1])},addUVLine:function(t){var e=this.uvs,i=this.object.geometry.uvs;i.push(e[t+0]),i.push(e[t+1])},addFace:function(t,e,i,n,r,a,s,o,h,u,l,c){var p,d=this.vertices.length,f=this.parseVertexIndex(t,d),m=this.parseVertexIndex(e,d),v=this.parseVertexIndex(i,d);if(void 0===n?this.addVertex(f,m,v):(p=this.parseVertexIndex(n,d),this.addVertex(f,m,p),this.addVertex(m,v,p)),void 0!==r){var g=this.uvs.length;f=this.parseUVIndex(r,g),m=this.parseUVIndex(a,g),v=this.parseUVIndex(s,g),void 0===n?this.addUV(f,m,v):(p=this.parseUVIndex(o,g),this.addUV(f,m,p),this.addUV(m,v,p))}if(void 0!==h){var y=this.normals.length;f=this.parseNormalIndex(h,y),m=h===u?f:this.parseNormalIndex(u,y),v=h===l?f:this.parseNormalIndex(l,y),void 0===n?this.addNormal(f,m,v):(p=this.parseNormalIndex(c,y),this.addNormal(f,m,p),this.addNormal(m,v,p))}},addLineGeometry:function(t,e){this.object.geometry.type=\"Line\";for(var i=this.vertices.length,n=this.uvs.length,r=0,a=t.length;r<a;r++)this.addVertexLine(this.parseVertexIndex(t[r],i));var s=0;for(a=e.length;s<a;s++)this.addUVLine(this.parseUVIndex(e[s],n))}};return t.startObject(\"\",!1),t},parse:function(t){var e=this._createParserState();-1!==t.indexOf(\"\\r\\n\")&&(t=t.replace(/\\r\\n/g,\"\\n\")),-1!==t.indexOf(\"\\\\\\n\")&&(t=t.replace(/\\\\\\n/g,\"\"));for(var i=t.split(\"\\n\"),n=\"\",r=\"\",a=\"\",s=[],o=\"function\"==typeof\"\".trimLeft,h=0,u=i.length;h<u;h++)if(n=i[h],0!==(n=o?n.trimLeft():n.trim()).length&&\"#\"!==(r=n.charAt(0)))if(\"v\"===r)if(\" \"===(a=n.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(n)))e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if(\"n\"===a&&null!==(s=this.regexp.normal_pattern.exec(n)))e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if(\"t\"!==a||null===(s=this.regexp.uv_pattern.exec(n)))throw new Error(\"Unexpected vertex/normal/uv line: '\"+n+\"'\");e.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if(\"f\"===r)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(n)))e.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(n)))e.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(n)))e.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(n)))throw new Error(\"Unexpected face line: '\"+n+\"'\");e.addFace(s[1],s[2],s[3],s[4])}else if(\"l\"===r){var l=n.substring(1).trim().split(\" \"),c=[],p=[];if(-1===n.indexOf(\"/\"))c=l;else for(var d=0,f=l.length;d<f;d++){var m=l[d].split(\"/\");\"\"!==m[0]&&c.push(m[0]),\"\"!==m[1]&&p.push(m[1])}e.addLineGeometry(c,p)}else if(null!==(s=this.regexp.object_pattern.exec(n))){var v=(\" \"+s[0].substr(1).trim()).substr(1);e.startObject(v)}else if(this.regexp.material_use_pattern.test(n))e.object.startMaterial(n.substring(7).trim(),e.materialLibraries);else if(this.regexp.material_library_pattern.test(n))e.materialLibraries.push(n.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(n))){if(\"\\0\"===n)continue;throw new Error(\"Unexpected line: '\"+n+\"'\")}var g=s[1].trim().toLowerCase();e.object.smooth=\"1\"===g||\"on\"===g,(L=e.object.currentMaterial())&&(L.smooth=e.object.smooth)}e.finalize();var y=new THREE.Group;y.materialLibraries=[].concat(e.materialLibraries);for(h=0,u=e.objects.length;h<u;h++){var x=e.objects[h],E=x.geometry,b=x.materials,w=\"Line\"===E.type;if(0!==E.vertices.length){var M=new THREE.BufferGeometry;M.addAttribute(\"position\",new THREE.BufferAttribute(new Float32Array(E.vertices),3)),E.normals.length>0?M.addAttribute(\"normal\",new THREE.BufferAttribute(new Float32Array(E.normals),3)):M.computeVertexNormals(),E.uvs.length>0&&M.addAttribute(\"uv\",new THREE.BufferAttribute(new Float32Array(E.uvs),2));for(var _,T=[],R=0,k=b.length;R<k;R++){var C=b[R],L=void 0;if(null!==this.materials&&(L=this.materials.create(C.name),w&&L&&!(L instanceof THREE.LineBasicMaterial))){var j=new THREE.LineBasicMaterial;j.copy(L),j.lights=!1,L=j}L||((L=w?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=C.name),L.flatShading=C.smooth?THREE.SmoothShading:THREE.FlatShading,T.push(L)}if(T.length>1){for(R=0,k=b.length;R<k;R++){C=b[R];M.addGroup(C.groupStart,C.groupCount,R)}var S=new THREE.MultiMaterial(T);_=w?new THREE.LineSegments(M,S):new THREE.Mesh(M,S)}else _=w?new THREE.LineSegments(M,T[0]):new THREE.Mesh(M,T[0]);_.name=x.name,y.add(_)}}return y}},t.exports=i},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=i(7),f=i(5),m=i(8),v=function(t){function e(t){var i;return r()(this,e),(i=h()(this,l()(e).call(this)))._layerid=0,i.zIndex=1e3,i.status=\"running\",i.type=\"gps\",i.layers=[],i.clock=new THREE.Clock,i.clock.start(),i.initMap(t),i.initWorld(),i.map.hasGround&&i.addGround(),i.update(),i}return p()(e,t),s()(e,[{key:\"initMap\",value:function(t){this.map=Object.assign({rotation:0,width:1e3,height:600,pitch:45,zoom:21,center:[0,0]},t)}},{key:\"initWorld\",value:function(){this.renderer=new THREE.WebGLRenderer(Object.assign({alpha:!0,antialias:!0},this.map.rendererOptions)),this.renderer.setSize(this.map.width,this.map.height),this.map.container.appendChild(this.renderer.domElement),this.renderer.domElement.style.position=\"relative\",this.renderer.domElement.style[\"pointer-events\"]=\"none\",this.renderer.domElement.style[\"z-index\"]=++this.zIndex,this.scene=new THREE.Scene(Object.assign({},this.map.sceneOptions||{})),this.camera=new THREE.PerspectiveCamera(45,this.map.width/this.map.height,1e-6,5e9),this.layers=[],this.world=new THREE.Group,this.scene.add(this.world),this.camera.position.z=10,this.camera.position.x=this.map.center[0],this.camera.position.y=this.map.center[1],this.cameraControl=new d.default(this)}},{key:\"moveTo\",value:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preScale;return t.userData.isGeoGroup?i=t:t.parent&&t.parent.userData.isGeoGroup&&(i=t.parent),i.scale.copy(r||1),i.position.copy(this.projectToWorld(e)),t.coordinates=e,t}},{key:\"update\",value:function(){var t,e=this,i=this.clock.getDelta();for(var n in this.layers)this.layers[n].update&&this.layers[n].update(i);this.renderer.render(this.scene,this.camera),(t=this.renderer.vr.getDevice())?this.animationframe=t.requestAnimationFrame((function(t){\"stop\"!=e.status&&e.update(i,t)})):this.animationframe=requestAnimationFrame((function(t){\"stop\"!=e.status&&e.update(i,t)}))}},{key:\"projectToWorld\",value:function(t){return{x:t[0],y:t[1],z:t[2]||0}}},{key:\"unprojectFromWorld\",value:function(t){return[t.x,t.y,t.z]}},{key:\"projectToScreen\",value:function(t){var e=Object.assign({},t);e[1]=-e[1];var i=this.projectToWorld(e),n=this.world.getWorldPosition().clone().add(i).project(this.camera),r=this.map.width/2,a=this.map.height/2;return{x:Math.round(n.x*r+r),y:this.map.height-Math.round(n.y*a+a)}}},{key:\"unprojectFromScreen\",value:function(t){var e=this.map.width/2,i=this.map.height/2,n=-(t.x-e)/e,r=(this.map.height-t.y-i)/i,a=new THREE.Vector3(n,r,0).unproject(this.camera),s=this.world.getWorldPosition().clone(),o=this.unprojectFromWorld(a.sub(s));return o[1]=-o[1],o}},{key:\"add\",value:function(t,e,i){var n=new THREE.Group;return n.userData.isGeoGroup=!0,n.add(t),this.world.add(n),this.moveTo(t,e,i),t}},{key:\"addGround\",value:function(){var t=new THREE.PlaneGeometry(m.WORLD_SIZE,m.WORLD_SIZE),e=new THREE.MeshPhongMaterial({color:this.map.groundColor||6710886,shininess:30}),i=new THREE.Mesh(t,e);i.position.z=-.01,this.addAtCoordinate(i,this.map.center,{scaleToLatitude:!0,preScale:100})}},{key:\"remove\",value:function(t){this.world.remove(t)}},{key:\"setupDefaultLights\",value:function(){this.scene.add(new THREE.AmbientLight(13421772));var t=new THREE.DirectionalLight(16777215,.5);t.position.set(0,800,1e3),t.matrixWorldNeedsUpdate=!0,this.world.add(t)}}]),e}(f.default);e.default=v},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}},function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"prettyPrintMatrix\",(function(){return a})),i.d(e,\"makePerspectiveMatrix\",(function(){return s})),i.d(e,\"radify\",(function(){return o})),i.d(e,\"degreeify\",(function(){return h}));var n=i(6),r=i.n(n);function a(t){for(var e=0;e<4;e++)t[e],t[e+4],t[e+8],t[e+12]}function s(t,e,i,n){var r=new THREE.Matrix4,a=1/Math.tan(t/2),s=1/(i-n);return r.elements[0]=a/e,r.elements[1]=0,r.elements[2]=0,r.elements[3]=0,r.elements[4]=0,r.elements[5]=a,r.elements[6]=0,r.elements[7]=0,r.elements[8]=0,r.elements[9]=0,r.elements[10]=(n+i)*s,r.elements[11]=-1,r.elements[12]=0,r.elements[13]=0,r.elements[14]=2*n*i*s,r.elements[15]=0,r}function o(t){return\"object\"===r()(t)?t.map((function(t){return 2*Math.PI*t/360})):2*Math.PI*t/360}function h(t){return 360*t/(2*Math.PI)}},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=function(t){function e(t){var i;for(var n in r()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={target:null,viewRotation:0,targetRotation:0,autoUpdate:!1,lockRotation:!0},i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return p()(e,t),s()(e,[{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.initCamera()}},{key:\"initCamera\",value:function(){}},{key:\"update\",value:function(){this.autoUpdate&&this.updateCamera()}},{key:\"updateCamera\",value:function(t){if(!this.target)return!1;var e=this.target.coordinates;this.lockRotation&&(t||(t=180*this.target.rotation.z/Math.PI+this.targetRotation+this.viewRotation),this.pigeonMap.cameraControl.setRotation(t)),this.pigeonMap.cameraControl.setCenter(e),this.pigeonMap.cameraControl.updateCamera()}}]),e}(i(5).default);e.default=d},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=function(t){function e(t){var i;for(var n in r()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={zoomBase:600,moveSpeed:1,pitchSpeed:.1,rotateSpeed:.15},i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return p()(e,t),s()(e,[{key:\"onAdd\",value:function(t){var e=this;this.pigeonMap=t,this.map=this.pigeonMap.map,this.cameraControl=this.pigeonMap.cameraControl,this.initConfig(),this.listenEvents(),this.on(\"change\",(function(){e.pigeonMap.fire(\"change\"),e.cameraControl.update()}))}},{key:\"initConfig\",value:function(){}},{key:\"listenEvents\",value:function(){var t=this;this.onDown=function(e){0==e.button?t.mouseStatus=\"left\":2==e.button&&(t.mouseStatus=\"right\"),t.mouseDownPosition={x:e.clientX,y:e.clientY},t.map.container.addEventListener(\"mousemove\",t.onMove)},this.onUp=function(e){t.mouseStatus=!1,t.map.container.removeEventListener(\"mousemove\",t.onMove)},this.onMove=function(e){if(t.mouseStatus){if(\"left\"==t.mouseStatus){var i=e.clientY-t.mouseDownPosition.y,n=e.clientX-t.mouseDownPosition.x,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));if(r<.1)return!1;var a=(n>0?-1:1)*Math.asin(i/r)+t.map.transform.angle,s=t.moveSpeed*(t.map.zoom/(t.zoomBase+t.map.zoom));t.map.center[0]+=(n>0?-1:1)*(r*Math.cos(a))*s,t.map.center[1]+=(n>0?-1:1)*(r*Math.sin(a))*s,t.cameraControl.update(),t.fire(\"move\",e),t.fire(\"change\",e)}else\"right\"==t.mouseStatus&&(t.map.pitch+=t.pitchSpeed*(e.clientY-t.mouseDownPosition.y),t.map.pitch>90?t.map.pitch=90:t.map.pitch<0&&(t.map.pitch=0),t.map.rotation-=t.rotateSpeed*(e.clientX-t.mouseDownPosition.x),t.cameraControl.update(),t.fire(\"rotate\",e),t.fire(\"change\",e));t.mouseDownPosition={x:e.clientX,y:e.clientY}}},this.onWheel=function(e){if(t.map.zoom-=e.deltaY*t.map.zoom/t.zoomBase,t.map.zoom<5)return t.map.zoom=5;t.cameraControl.update(),e.preventDefault(),t.fire(\"zoom\",e),t.fire(\"change\",e)},this.onContextmenu=function(t){t.preventDefault(),t.stopPropagation()},this.map.container.addEventListener(\"mousedown\",this.onDown),this.map.container.addEventListener(\"mouseup\",this.onUp),this.map.container.addEventListener(\"mousemove\",this.onMove),this.map.container.addEventListener(\"wheel\",this.onWheel),this.map.container.addEventListener(\"contextmenu\",this.onContextmenu)}},{key:\"removeListenr\",value:function(){this.map.container.removeEventListener(\"mousedown\",this.onDown),this.map.container.removeEventListener(\"mouseup\",this.onUp),this.map.container.removeEventListener(\"mousemove\",this.onMove),this.map.container.removeEventListener(\"wheel\",this.onWheel),this.map.container.removeEventListener(\"contextmenu\",this.onContextmenu)}}]),e}(i(5).default);e.default=d},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=function(t){function e(t){var i;for(var n in r()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={fontSize:\"14px\",color:\"#000000\",canvasRender:!1},i.texts=[],i.textId=0,i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return p()(e,t),s()(e,[{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.canvasRender?this.initCanvas():this.initDom();var e=this;function i(){e.updateText()}this.change=i,this.pigeonMap.on(\"change\",i)}},{key:\"initDom\",value:function(){this.container=this.pigeonMap.map.container;var t=document.createElement(\"div\");t.id=\"text_layer_\"+this.id,t.className=\"pigeonGL-text-layer\",t.setAttribute(\"width\",this.pigeonMap.map.width),t.setAttribute(\"height\",this.pigeonMap.map.height),t.style.position=\"absolute\",t.style.top=\"0\",t.style.left=\"0\",t.style.zIndex=++this.pigeonMap.zIndex,this.dom=t,this.container.appendChild(t)}},{key:\"initCanvas\",value:function(){this.container=this.pigeonMap.map.container;var t=document.createElement(\"canvas\");t.id=\"text_layer_\"+this.id,this.container.appendChild(t),t.setAttribute(\"width\",this.pigeonMap.map.width),t.setAttribute(\"height\",this.pigeonMap.map.height),t.style.position=\"absolute\",t.style.top=\"0\",t.style.left=\"0\",t.style.zIndex=++this.pigeonMap.zIndex,this.canvas=t}},{key:\"addText\",value:function(t){return(t=Object.assign({},t)).id=t.id||\"_text_\"+this.textId++,this.texts.push(t),t}},{key:\"drawText\",value:function(){this.canvasRender?this.drawCanvasText():this.drawDomText()}},{key:\"drawDomText\",value:function(){for(var t in this.dom.innerHTML=\"\",this.texts){var e=this.pigeonMap.projectToScreen(this.texts[t].lnglat),i=document.createElement(\"span\");for(var n in i.id=this.texts[t].id,i.innerHTML=this.texts[t].text,this.dom.appendChild(i),i.style.position=\"absolute\",i.style.top=e.y+\"px\",i.style.left=e.x+\"px\",this.texts[t].style)i.style[n]=this.texts[t].style[n]}}},{key:\"drawCanvasText\",value:function(){var t=this.canvas.getContext(\"2d\");for(var e in t.clearRect(0,0,this.canvas.width,this.canvas.height),this.texts){var i=this.pigeonMap.projectToScreen(this.texts[e].lnglat);t.font=this.texts[e].font||this.font,t.fillStyle=this.texts[e].color||this.color,t.fillText(this.texts[e].text,i.x,i.y)}}},{key:\"updateDomText\",value:function(){var t=this.dom.querySelectorAll(\"span\");for(var e in this.texts){var i=this.pigeonMap.projectToScreen(this.texts[e].lnglat);t[e].style.top=i.y+\"px\",t[e].style.left=i.x+\"px\"}}},{key:\"removeText\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return this.texts.splice(e,1),void this.drawText()}},{key:\"update\",value:function(){}},{key:\"updateText\",value:function(){this.canvasRender?this.drawCanvasText():this.updateDomText()}},{key:\"getText\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return this.text[e]}},{key:\"onRemove\",value:function(){this.pigeonMap.off(\"change\",this.change),this._listeners=null}},{key:\"getTextIndex\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return e}}]),e}(i(5).default);e.default=d},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return d}));var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=function(t){function e(t){var i;return r()(this,e),(i=h()(this,l()(e).call(this,t))).noVR=!1,i.vrStatus=\"not suppert VR\",i.listenEvents(),i.getVRDisplays(),i}return p()(e,t),s()(e,[{key:\"getVRDisplays\",value:function(){var t=this;navigator.getVRDisplays&&navigator.getVRDisplays().then((function(e){e.length>0?(t.device=e[0],t.renderer.vr.enabled=!0,t.pigeonMap.renderer.vr.setDevice(t.device),t.frameData=new VRFrameData):(t.vrStatus=\"noDisplay\",console.warn(\"no vr displays\"))})).catch((function(t){console.warn(\"Unable to get VR Displays\")}))}},{key:\"listenEvents\",value:function(){var t=this;window.addEventListener(\"vrdisplayconnect\",(function(e){t.device=e.display||e.detail.display,t.status,t.renderer.vr.enabled=!0,t.fire(\"connected\",t.device)}),!1),window.addEventListener(\"vrdisplaydisconnect\",(function(e){t.status,t.renderer.vr.enabled=!1,t.fire(\"disconnet\",t.device)}),!1),window.addEventListener(\"vrdisplaypresentchange\",(function(e){t.device=e.display||e.detail.display,t.fire(\"statuschange\",t.device)}),!1)}},{key:\"enterVR\",value:function(){this.device.requestPresent([{source:this.renderer.domElement}])}},{key:\"exitVR\",value:function(){this.device.exitPresent()}},{key:\"createButton\",value:function(t){var e=this;t||((t=document.createElement(\"button\")).style.position=\"absolute\",t.style.bottom=\"20px\",t.style.padding=\"12px 6px\",t.style.border=\"1px solid #fff\",t.style.borderRadius=\"4px\",t.style.background=\"transparent\",t.style.color=\"#fff\",t.style.textAlign=\"center\",t.style.opacity=\"0.5\",t.style.outline=\"none\",t.style.zIndex=\"9999\",t.style.cursor=\"auto\",t.style.left=\"calc(50% - 75px)\",t.style.width=\"150px\",t.textContent=\"Enter VR\",document.body.appendChild(t)),t.addEventListener(\"click\",(function(){e.device&&e.enterVR()}))}},{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.renderer=t.renderer,this.initVRRenderer()}},{key:\"initVRRenderer\",value:function(){}}]),e}(i(5).default)},function(t,e,i){\"use strict\";i.r(e);var n=i(0),r=i.n(n),a=i(1),s=i.n(a),o=i(2),h=i.n(o),u=i(3),l=i.n(u),c=i(4),p=i.n(c),d=function(t){function e(t){var i;return r()(this,e),(i=h()(this,l()(e).call(this,t))).lanePoints=[],i.initPoints(),i}return p()(e,t),s()(e,[{key:\"initPoints\",value:function(){this.material=new THREE.PointsMaterial({color:16777215,size:10}),this.pointsGeometry=new THREE.BufferGeometry,this.points=new THREE.Points(this.pointsGeometry,this.material)}},{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.pigeonMap.world.add(this.points)}},{key:\"drawPoints\",value:function(t){this.baseLngLat=t[0],this.baseXYZ=this.pigeonMap.projectToWorld(this.baseLngLat);var e,i=[],n=[],r=[];for(var a in t)e=this.pigeonMap.projectToWorld(t[a]),i.push(e.x-this.baseXYZ.x,e.y-this.baseXYZ.y,e.z-this.baseXYZ.z),r.push(t[a]),n.push(a);this.points.geometry.addAttribute(\"position\",new THREE.Float32BufferAttribute(i,3)),this.points.geometry.computeBoundingSphere(),this.points.position.x=this.baseXYZ.x,this.points.position.y=this.baseXYZ.y,this.points.position.z=this.baseXYZ.z}}]),e}(i(5).default);e.default=d},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return v}));var n=i(9),r=i.n(n),a=i(0),s=i.n(a),o=i(1),h=i.n(o),u=i(2),l=i.n(u),c=i(3),p=i.n(c),d=i(4),f=i.n(d),m=window.THREE,v=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"rgba(255, 255, 255, 1)\";return s()(this,e),(t=l()(this,p()(e).call(this,new m.SpriteMaterial({map:new m.Texture}))))._text=i,t._textHeight=n,t._color=r,t._fontFace=\"Arial\",t._fontSize=90,t._fontWeight=\"normal\",t._canvas=document.createElement(\"canvas\"),t._texture=t.material.map,t._texture.minFilter=m.LinearFilter,t._genCanvas(),t}return f()(e,t),h()(e,[{key:\"_genCanvas\",value:function(){var t=this,e=this._canvas,i=e.getContext(\"2d\"),n=this._text.split(\"\\n\");e.width=Math.max.apply(Math,r()(n.map((function(t){return i.measureText(t).width})))),e.height=this.fontSize*n.length,i.font=\"\".concat(this.fontWeight,\" \").concat(this.fontSize,\"px \").concat(this.fontFace),i.fillStyle=this.color,i.textBaseline=\"bottom\",n.forEach((function(n,r){return i.fillText(n,(e.width-i.measureText(n).width)/2,(r+1)*t.fontSize)})),this._texture.image=e,this._texture.needsUpdate=!0;var a=this.textHeight*n.length;this.scale.set(a*e.width/e.height,a)}},{key:\"clone\",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:\"copy\",value:function(t){return m.Sprite.prototype.copy.call(this,t),this.color=t.color,this.fontFace=t.fontFace,this.fontSize=t.fontSize,this.fontWeight=t.fontWeight,this}},{key:\"text\",get:function(){return this._text},set:function(t){this._text=t,this._genCanvas()}},{key:\"textHeight\",get:function(){return this._textHeight},set:function(t){this._textHeight=t,this._genCanvas()}},{key:\"color\",get:function(){return this._color},set:function(t){this._color=t,this._genCanvas()}},{key:\"fontFace\",get:function(){return this._fontFace},set:function(t){this._fontFace=t,this._genCanvas()}},{key:\"fontSize\",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this._genCanvas()}},{key:\"fontWeight\",get:function(){return this._fontWeight},set:function(t){this._fontWeight=t,this._genCanvas()}}]),e}(m.Sprite)},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}}]).default}));","extractedComments":[]}