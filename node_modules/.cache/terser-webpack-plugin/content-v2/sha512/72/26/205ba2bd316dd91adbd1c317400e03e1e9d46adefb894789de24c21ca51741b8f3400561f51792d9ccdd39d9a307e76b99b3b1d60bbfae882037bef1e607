{"map":"{\"version\":3,\"sources\":[\"pigeonGL.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"instance\",\"Constructor\",\"TypeError\",\"_defineProperties\",\"target\",\"props\",\"length\",\"descriptor\",\"configurable\",\"writable\",\"protoProps\",\"staticProps\",\"__webpack_exports__\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__\",\"_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__\",\"_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default\",\"Layer\",\"config\",\"this\",\"layers\",\"x\",\"_userConfig\",\"type\",\"listener\",\"undefined\",\"_listeners\",\"listeners\",\"indexOf\",\"push\",\"event\",\"listenerArray\",\"array\",\"slice\",\"index\",\"splice\",\"map\",\"pigeonMap\",\"layer\",\"id\",\"_layerid\",\"onAdd\",\"onRemove\",\"_typeof\",\"assertThisInitialized\",\"self\",\"_getPrototypeOf\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"subClass\",\"superClass\",\"constructor\",\"_typeof2\",\"obj\",\"iterator\",\"utils\",\"CameraControl\",\"scope\",\"camera\",\"active\",\"world\",\"THREE\",\"Group\",\"position\",\"y\",\"matrixAutoUpdate\",\"update\",\"assign\",\"initMapTransform\",\"updateCamera\",\"transform\",\"width\",\"height\",\"zHeight\",\"center\",\"z\",\"getZ\",\"zoom\",\"_pitch\",\"pitch\",\"Math\",\"PI\",\"angle\",\"rotation\",\"rad\",\"ev\",\"abs\",\"fov\",\"cameraToCenterDistance\",\"halfFov\",\"groundAngle\",\"topHalfSurfaceDistance\",\"sin\",\"farZ\",\"cos\",\"projectionMatrix\",\"makePerspectiveMatrix\",\"cameraWorldMatrix\",\"Matrix4\",\"cameraTranslateZ\",\"makeTranslation\",\"cameraRotateX\",\"makeRotationX\",\"cameraRotateZ\",\"makeRotationZ\",\"premultiply\",\"matrixWorld\",\"copy\",\"WORLD_SIZE\",\"pow\",\"WORLD_SIZE_RATIO\",\"PROJECTION_WORLD_SIZE\",\"MERCATOR_A\",\"DEG2RAD\",\"RAD2DEG\",\"EARTH_CIRCUMFERENCE\",\"DISTANCE\",\"PigeonGL\",\"MTLLoader\",\"OBJLoader\",\"Map\",\"ThirdPersonView\",\"MapControl\",\"TextLayer\",\"VRLayer\",\"CloudPoints\",\"window\",\"manager\",\"DefaultLoadingManager\",\"load\",\"url\",\"onLoad\",\"onProgress\",\"onError\",\"loader\",\"FileLoader\",\"setPath\",\"path\",\"text\",\"parse\",\"setTexturePath\",\"texturePath\",\"setBaseUrl\",\"console\",\"warn\",\"setCrossOrigin\",\"crossOrigin\",\"setMaterialOptions\",\"materialOptions\",\"lines\",\"split\",\"info\",\"delimiter_pattern\",\"materialsInfo\",\"line\",\"trim\",\"charAt\",\"pos\",\"substring\",\"toLowerCase\",\"ss\",\"parseFloat\",\"materialCreator\",\"MaterialCreator\",\"setManager\",\"setMaterials\",\"baseUrl\",\"options\",\"materials\",\"materialsArray\",\"nameLookup\",\"side\",\"FrontSide\",\"wrap\",\"RepeatWrapping\",\"convert\",\"converted\",\"mn\",\"mat\",\"covmat\",\"prop\",\"save\",\"lprop\",\"normalizeRGB\",\"ignoreZeroRGBs\",\"preload\",\"getIndex\",\"materialName\",\"getAsArray\",\"createMaterial_\",\"params\",\"setMapForType\",\"mapType\",\"texParams\",\"getTextureParams\",\"loadTexture\",\"test\",\"repeat\",\"scale\",\"offset\",\"wrapS\",\"wrapT\",\"color\",\"Color\",\"fromArray\",\"specular\",\"shininess\",\"opacity\",\"transparent\",\"MeshPhongMaterial\",\"matParams\",\"Vector2\",\"items\",\"bumpScale\",\"set\",\"join\",\"mapping\",\"texture\",\"Loader\",\"Handlers\",\"TextureLoader\",\"regexp\",\"vertex_pattern\",\"normal_pattern\",\"uv_pattern\",\"face_vertex\",\"face_vertex_uv\",\"face_vertex_uv_normal\",\"face_vertex_normal\",\"object_pattern\",\"smoothing_pattern\",\"material_library_pattern\",\"material_use_pattern\",\"_createParserState\",\"state\",\"objects\",\"vertices\",\"normals\",\"uvs\",\"materialLibraries\",\"startObject\",\"fromDeclaration\",\"previousMaterial\",\"currentMaterial\",\"_finalize\",\"geometry\",\"smooth\",\"startMaterial\",\"libraries\",\"previous\",\"inherited\",\"groupCount\",\"material\",\"mtllib\",\"Array\",\"isArray\",\"groupStart\",\"groupEnd\",\"clone\",\"cloned\",\"end\",\"lastMultiMaterial\",\"mi\",\"declared\",\"finalize\",\"parseVertexIndex\",\"len\",\"parseInt\",\"parseNormalIndex\",\"parseUVIndex\",\"addVertex\",\"a\",\"b\",\"src\",\"dst\",\"addVertexLine\",\"addNormal\",\"addUV\",\"addUVLine\",\"addFace\",\"ua\",\"ub\",\"uc\",\"ud\",\"na\",\"nb\",\"nc\",\"nd\",\"vLen\",\"ia\",\"ib\",\"ic\",\"uvLen\",\"nLen\",\"addLineGeometry\",\"vi\",\"uvi\",\"replace\",\"lineFirstChar\",\"lineSecondChar\",\"result\",\"trimLeft\",\"exec\",\"Error\",\"lineParts\",\"lineVertices\",\"lineUVs\",\"li\",\"llen\",\"parts\",\"substr\",\"container\",\"concat\",\"isLine\",\"buffergeometry\",\"BufferGeometry\",\"addAttribute\",\"BufferAttribute\",\"Float32Array\",\"computeVertexNormals\",\"mesh\",\"createdMaterials\",\"miLen\",\"sourceMaterial\",\"LineBasicMaterial\",\"materialLine\",\"lights\",\"flatShading\",\"SmoothShading\",\"FlatShading\",\"addGroup\",\"multiMaterial\",\"MultiMaterial\",\"LineSegments\",\"Mesh\",\"add\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__\",\"_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__\",\"_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__\",\"_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default\",\"_Camera_CameraControl_js__WEBPACK_IMPORTED_MODULE_5__\",\"_Layers_Layer_js__WEBPACK_IMPORTED_MODULE_6__\",\"PigeonGLConstants\",\"_Layer\",\"_this\",\"zIndex\",\"status\",\"clock\",\"Clock\",\"start\",\"initMap\",\"initWorld\",\"hasGround\",\"addGround\",\"renderer\",\"WebGLRenderer\",\"alpha\",\"antialias\",\"rendererOptions\",\"setSize\",\"appendChild\",\"domElement\",\"style\",\"scene\",\"Scene\",\"sceneOptions\",\"PerspectiveCamera\",\"cameraControl\",\"coord\",\"geoGroup\",\"arguments\",\"preScale\",\"userData\",\"isGeoGroup\",\"parent\",\"projectToWorld\",\"coordinates\",\"device\",\"_this2\",\"delta\",\"getDelta\",\"render\",\"vr\",\"getDevice\",\"animationframe\",\"requestAnimationFrame\",\"timestamp\",\"param\",\"coords\",\"standarVector\",\"getWorldPosition\",\"project\",\"round\",\"pixel\",\"standX\",\"standY\",\"Vector3\",\"unproject\",\"worldPosition\",\"unprojectFromWorld\",\"sub\",\"moveTo\",\"PlaneGeometry\",\"groundColor\",\"plane\",\"addAtCoordinate\",\"scaleToLatitude\",\"remove\",\"AmbientLight\",\"sunlight\",\"DirectionalLight\",\"matrixWorldNeedsUpdate\",\"ReferenceError\",\"_setPrototypeOf\",\"prettyPrintMatrix\",\"radify\",\"degreeify\",\"_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__\",\"_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default\",\"uglymatrix\",\"fovy\",\"aspect\",\"near\",\"far\",\"out\",\"f\",\"tan\",\"nf\",\"elements\",\"deg\",\"degree\",\"ThirdPersonLayer\",\"defaultParams\",\"viewRotation\",\"targetRotation\",\"autoUpdate\",\"lockRotation\",\"initCamera\",\"lnglat\",\"setRotation\",\"setCenter\",\"zoomBase\",\"moveSpeed\",\"pitchSpeed\",\"rotateSpeed\",\"initConfig\",\"listenEvents\",\"on\",\"fire\",\"_this3\",\"onDown\",\"button\",\"mouseStatus\",\"mouseDownPosition\",\"clientX\",\"clientY\",\"addEventListener\",\"onMove\",\"onUp\",\"removeEventListener\",\"yDis\",\"xDis\",\"distance\",\"sqrt\",\"asin\",\"ratio\",\"onWheel\",\"deltaY\",\"preventDefault\",\"onContextmenu\",\"e\",\"stopPropagation\",\"fontSize\",\"canvasRender\",\"texts\",\"textId\",\"initCanvas\",\"initDom\",\"change\",\"updateText\",\"div\",\"document\",\"createElement\",\"className\",\"setAttribute\",\"top\",\"left\",\"dom\",\"canvas\",\"drawCanvasText\",\"drawDomText\",\"innerHTML\",\"xy\",\"projectToScreen\",\"span\",\"ctx\",\"getContext\",\"clearRect\",\"font\",\"fillStyle\",\"fillText\",\"querySelectorAll\",\"drawText\",\"updateDomText\",\"off\",\"noVR\",\"vrStatus\",\"getVRDisplays\",\"navigator\",\"then\",\"displays\",\"enabled\",\"setDevice\",\"frameData\",\"VRFrameData\",\"display\",\"detail\",\"requestPresent\",\"source\",\"exitPresent\",\"bottom\",\"padding\",\"border\",\"borderRadius\",\"background\",\"textAlign\",\"outline\",\"cursor\",\"textContent\",\"body\",\"enterVR\",\"initVRRenderer\",\"PointsLayer\",\"lanePoints\",\"initPoints\",\"PointsMaterial\",\"size\",\"pointsGeometry\",\"points\",\"Points\",\"data\",\"baseLngLat\",\"baseXYZ\",\"xyz\",\"colors\",\"Float32BufferAttribute\",\"computeBoundingSphere\"],\"mappings\":\"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\"}","code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=9)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=function(){function t(e){a()(this,t),this.layers=[];for(var i in this._userConfig=e,e)this[i]=e[i]}return s()(t,[{key:\"on\",value:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}},{key:\"fire\",value:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i)for(var n=i.slice(0),a=0,r=n.length;a<r;a++)n[a].call(this,e)}}},{key:\"off\",value:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i)if(e){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}else this._listeners[t]=[]}}},{key:\"initConfig\",value:function(t){}},{key:\"onAdd\",value:function(t){this.pigeonMap=t}},{key:\"update\",value:function(){}},{key:\"onRemove\",value:function(){this._listeners&&(this._listeners=[])}},{key:\"addLayer\",value:function(t){t.id=++this._layerid,this.layers.push(t),t.onAdd(this)}},{key:\"removeLayer\",value:function(t){for(var e in this.layers)if(this.layers[e].id==t.id)return this.layers[e].onRemove(),void this.layers.splice(e,1)}},{key:\"getLayerById\",value:function(t){for(var e=0;e<this.layers.length;e++)if(this.layer.id===t)return layer}}]),t}();e.default=o},function(t,e,i){var n=i(6),a=i(13);t.exports=function(t,e){return!e||\"object\"!==n(e)&&\"function\"!=typeof e?a(t):e}},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e,i){var n=i(14);t.exports=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e){function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function n(e){return\"function\"==typeof Symbol&&\"symbol\"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":i(t)},n(e)}t.exports=n},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=(i(8),i(15)),h=function(){function t(e){a()(this,t),this.scope=e,this.map=e.map,this.camera=e.camera,this.active=!0,this.world=e.world||new THREE.Group,this.world.position.x=this.world.position.y=0,this.camera.matrixAutoUpdate=!1,this.update()}return s()(t,[{key:\"update\",value:function(t){this.map=Object.assign(this.map,t),this.initMapTransform(),this.updateCamera()}},{key:\"listenMapChange\",value:function(){this.update(this.map)}},{key:\"initMapTransform\",value:function(){var t={};t.width=this.map.width,t.height=this.map.height,t.zHeight=this.map.zHeight||0,t.x=this.map.center[0],t.y=this.map.center[1],t.z=this.map.center[2]||this.getZ(this.map.zoom),t._pitch=this.map.pitch*Math.PI/180||0,t.angle=this.map.rotation*Math.PI/180||0,this.map.transform=t}},{key:\"getZ\",value:function(t){return t}},{key:\"setCenter\",value:function(t){this.map.center=t,this.initMapTransform()}},{key:\"setRotation\",value:function(t){this.map.rotation=t,this.map.transform.angle=this.map.rotation*Math.PI/180}},{key:\"setPitch\",value:function(t){this.map.pitch=t,this.map.transform._pitch=this.map.pitch*Math.PI/180}},{key:\"updateCamera\",value:function(t){var e=Math.abs(this.map.transform.z)+this.map.transform.zHeight,i=this.map.fov||.6435011087932844,n=e,a=i/2,r=Math.PI/2+this.map.transform._pitch,s=Math.sin(a)*n/Math.sin(Math.PI-r-a),h=1.01*(Math.cos(Math.PI/2-this.map.transform._pitch)*s+n);this.camera.projectionMatrix=o.makePerspectiveMatrix(i,this.map.transform.width/this.map.transform.height,1,h);var u=new THREE.Matrix4,l=(new THREE.Matrix4).makeTranslation(0,0,e),p=(new THREE.Matrix4).makeRotationX(this.map.transform._pitch),c=(new THREE.Matrix4).makeRotationZ(this.map.transform.angle);u.premultiply(l).premultiply(p).premultiply(c),this.camera.matrixWorld.copy(u),this.world.position.x=-this.map.transform.x,this.world.position.y=-this.map.transform.y}}]),t}();e.default=h},function(t,e){var i=512*Math.pow(2,0);t.exports={WORLD_SIZE_RATIO:0,WORLD_SIZE:i,PROJECTION_WORLD_SIZE:i/(6378137*Math.PI)/2,MERCATOR_A:6378137,DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,EARTH_CIRCUMFERENCE:40075e3,DISTANCE:200}},function(t,e,i){var n={MTLLoader:i(10),OBJLoader:i(11),Map:i(12).default,Layer:i(2).default,CameraControl:i(7).default,ThirdPersonView:i(16).default,MapControl:i(17).default,TextLayer:i(18).default,VRLayer:i(19).default,CloudPoints:i(20).default};window.PigeonGL=n},function(t,e){var i=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager};i.prototype={constructor:i,load:function(t,e,i,n){var a=this,r=new THREE.FileLoader(this.manager);r.setPath(this.path),r.load(t,(function(t){e(a.parse(t))}),i,n)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn(\"THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.\"),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split(\"\\n\"),n={},a=/\\s+/,r={},s=0;s<e.length;s++){var o=e[s];if(0!==(o=o.trim()).length&&\"#\"!==o.charAt(0)){var h=o.indexOf(\" \"),u=h>=0?o.substring(0,h):o;u=u.toLowerCase();var l=h>=0?o.substring(h+1):\"\";if(l=l.trim(),\"newmtl\"===u)n={name:l},r[l]=n;else if(n)if(\"ka\"===u||\"kd\"===u||\"ks\"===u){var p=l.split(a,3);n[u]=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]}else n[u]=l}}var c=new i.MaterialCreator(this.texturePath||this.path,this.materialOptions);return c.setCrossOrigin(this.crossOrigin),c.setManager(this.manager),c.setMaterials(r),c}},(i.MaterialCreator=function(t,e){this.baseUrl=t||\"\",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping}).prototype={constructor:i.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var i in t){var n=t[i],a={};for(var r in e[i]=a,n){var s=!0,o=n[r],h=r.toLowerCase();switch(h){case\"kd\":case\"ka\":case\"ks\":this.options&&this.options.normalizeRGB&&(o=[o[0]/255,o[1]/255,o[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===o[0]&&0===o[1]&&0===o[2]&&(s=!1)}s&&(a[h]=o)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,i=this.materialsInfo[t],n={name:t,side:this.side};function a(t,i){if(!n[t]){var a,r,s=e.getTextureParams(i,n),o=e.loadTexture((a=e.baseUrl,\"string\"!=typeof(r=s.url)||\"\"===r?\"\":/^https?:\\/\\//i.test(r)?r:a+r));o.repeat.copy(s.scale),o.offset.copy(s.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,n[t]=o}}for(var r in i){var s=i[r];if(\"\"!==s)switch(r.toLowerCase()){case\"kd\":n.color=(new THREE.Color).fromArray(s);break;case\"ks\":n.specular=(new THREE.Color).fromArray(s);break;case\"map_kd\":a(\"map\",s);break;case\"map_ks\":a(\"specularMap\",s);break;case\"map_bump\":case\"bump\":a(\"bumpMap\",s);break;case\"ns\":n.shininess=parseFloat(s);break;case\"d\":s<1&&(n.opacity=s,n.transparent=!0);break;case\"Tr\":s>0&&(n.opacity=1-s,n.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(n),this.materials[t]},getTextureParams:function(t,e){var i,n={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},a=t.split(/\\s+/);return(i=a.indexOf(\"-bm\"))>=0&&(e.bumpScale=parseFloat(a[i+1]),a.splice(i,2)),(i=a.indexOf(\"-s\"))>=0&&(n.scale.set(parseFloat(a[i+1]),parseFloat(a[i+2])),a.splice(i,4)),(i=a.indexOf(\"-o\"))>=0&&(n.offset.set(parseFloat(a[i+1]),parseFloat(a[i+2])),a.splice(i,4)),n.url=a.join(\" \").trim(),n},loadTexture:function(t,e,i,n,a){var r,s=THREE.Loader.Handlers.get(t),o=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===s&&(s=new THREE.TextureLoader(o)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),r=s.load(t,i,n,a),void 0!==e&&(r.mapping=e),r}},t.exports=i},function(t,e){var i=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,normal_pattern:/^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,uv_pattern:/^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,face_vertex:/^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,face_vertex_uv:/^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,face_vertex_uv_normal:/^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,face_vertex_normal:/^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,object_pattern:/^[og]\\s*(.+)?/,smoothing_pattern:/^s\\s+(\\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};i.prototype={constructor:i,load:function(t,e,i,n){var a=this,r=new THREE.FileLoader(a.manager);r.setPath(this.path),r.load(t,(function(t){e(a.parse(t))}),i,n)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var i=this.object&&\"function\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||\"\",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);var n={index:this.materials.length,name:t||\"\",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:\"\",smooth:void 0!==i?i.smooth:this.smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:\"number\"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var i=this.materials.length-1;i>=0;i--)this.materials[i].groupCount<=0&&this.materials.splice(i,1);return t&&0===this.materials.length&&this.materials.push({name:\"\",smooth:this.smooth}),e}},i&&i.name&&\"function\"==typeof i.clone){var n=i.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseNormalIndex:function(t,e){var i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseUVIndex:function(t,e){var i=parseInt(t,10);return 2*(i>=0?i-1:i+e/2)},addVertex:function(t,e,i){var n=this.vertices,a=this.object.geometry.vertices;a.push(n[t+0]),a.push(n[t+1]),a.push(n[t+2]),a.push(n[e+0]),a.push(n[e+1]),a.push(n[e+2]),a.push(n[i+0]),a.push(n[i+1]),a.push(n[i+2])},addVertexLine:function(t){var e=this.vertices,i=this.object.geometry.vertices;i.push(e[t+0]),i.push(e[t+1]),i.push(e[t+2])},addNormal:function(t,e,i){var n=this.normals,a=this.object.geometry.normals;a.push(n[t+0]),a.push(n[t+1]),a.push(n[t+2]),a.push(n[e+0]),a.push(n[e+1]),a.push(n[e+2]),a.push(n[i+0]),a.push(n[i+1]),a.push(n[i+2])},addUV:function(t,e,i){var n=this.uvs,a=this.object.geometry.uvs;a.push(n[t+0]),a.push(n[t+1]),a.push(n[e+0]),a.push(n[e+1]),a.push(n[i+0]),a.push(n[i+1])},addUVLine:function(t){var e=this.uvs,i=this.object.geometry.uvs;i.push(e[t+0]),i.push(e[t+1])},addFace:function(t,e,i,n,a,r,s,o,h,u,l,p){var c,d=this.vertices.length,f=this.parseVertexIndex(t,d),m=this.parseVertexIndex(e,d),v=this.parseVertexIndex(i,d);if(void 0===n?this.addVertex(f,m,v):(c=this.parseVertexIndex(n,d),this.addVertex(f,m,c),this.addVertex(m,v,c)),void 0!==a){var y=this.uvs.length;f=this.parseUVIndex(a,y),m=this.parseUVIndex(r,y),v=this.parseUVIndex(s,y),void 0===n?this.addUV(f,m,v):(c=this.parseUVIndex(o,y),this.addUV(f,m,c),this.addUV(m,v,c))}if(void 0!==h){var g=this.normals.length;f=this.parseNormalIndex(h,g),m=h===u?f:this.parseNormalIndex(u,g),v=h===l?f:this.parseNormalIndex(l,g),void 0===n?this.addNormal(f,m,v):(c=this.parseNormalIndex(p,g),this.addNormal(f,m,c),this.addNormal(m,v,c))}},addLineGeometry:function(t,e){this.object.geometry.type=\"Line\";for(var i=this.vertices.length,n=this.uvs.length,a=0,r=t.length;a<r;a++)this.addVertexLine(this.parseVertexIndex(t[a],i));var s=0;for(r=e.length;s<r;s++)this.addUVLine(this.parseUVIndex(e[s],n))}};return t.startObject(\"\",!1),t},parse:function(t){var e=this._createParserState();-1!==t.indexOf(\"\\r\\n\")&&(t=t.replace(/\\r\\n/g,\"\\n\")),-1!==t.indexOf(\"\\\\\\n\")&&(t=t.replace(/\\\\\\n/g,\"\"));for(var i=t.split(\"\\n\"),n=\"\",a=\"\",r=\"\",s=[],o=\"function\"==typeof\"\".trimLeft,h=0,u=i.length;h<u;h++)if(n=i[h],0!==(n=o?n.trimLeft():n.trim()).length&&\"#\"!==(a=n.charAt(0)))if(\"v\"===a)if(\" \"===(r=n.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(n)))e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if(\"n\"===r&&null!==(s=this.regexp.normal_pattern.exec(n)))e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if(\"t\"!==r||null===(s=this.regexp.uv_pattern.exec(n)))throw new Error(\"Unexpected vertex/normal/uv line: '\"+n+\"'\");e.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if(\"f\"===a)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(n)))e.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(n)))e.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(n)))e.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(n)))throw new Error(\"Unexpected face line: '\"+n+\"'\");e.addFace(s[1],s[2],s[3],s[4])}else if(\"l\"===a){var l=n.substring(1).trim().split(\" \"),p=[],c=[];if(-1===n.indexOf(\"/\"))p=l;else for(var d=0,f=l.length;d<f;d++){var m=l[d].split(\"/\");\"\"!==m[0]&&p.push(m[0]),\"\"!==m[1]&&c.push(m[1])}e.addLineGeometry(p,c)}else if(null!==(s=this.regexp.object_pattern.exec(n))){var v=(\" \"+s[0].substr(1).trim()).substr(1);e.startObject(v)}else if(this.regexp.material_use_pattern.test(n))e.object.startMaterial(n.substring(7).trim(),e.materialLibraries);else if(this.regexp.material_library_pattern.test(n))e.materialLibraries.push(n.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(n))){if(\"\\0\"===n)continue;throw new Error(\"Unexpected line: '\"+n+\"'\")}var y=s[1].trim().toLowerCase();e.object.smooth=\"1\"===y||\"on\"===y,(P=e.object.currentMaterial())&&(P.smooth=e.object.smooth)}e.finalize();var g=new THREE.Group;g.materialLibraries=[].concat(e.materialLibraries);for(h=0,u=e.objects.length;h<u;h++){var x=e.objects[h],E=x.geometry,b=x.materials,w=\"Line\"===E.type;if(0!==E.vertices.length){var M=new THREE.BufferGeometry;M.addAttribute(\"position\",new THREE.BufferAttribute(new Float32Array(E.vertices),3)),E.normals.length>0?M.addAttribute(\"normal\",new THREE.BufferAttribute(new Float32Array(E.normals),3)):M.computeVertexNormals(),E.uvs.length>0&&M.addAttribute(\"uv\",new THREE.BufferAttribute(new Float32Array(E.uvs),2));for(var T,R=[],k=0,_=b.length;k<_;k++){var L=b[k],P=void 0;if(null!==this.materials&&(P=this.materials.create(L.name),w&&P&&!(P instanceof THREE.LineBasicMaterial))){var C=new THREE.LineBasicMaterial;C.copy(P),C.lights=!1,P=C}P||((P=w?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=L.name),P.flatShading=L.smooth?THREE.SmoothShading:THREE.FlatShading,R.push(P)}if(R.length>1){for(k=0,_=b.length;k<_;k++){L=b[k];M.addGroup(L.groupStart,L.groupCount,k)}var j=new THREE.MultiMaterial(R);T=w?new THREE.LineSegments(M,j):new THREE.Mesh(M,j)}else T=w?new THREE.LineSegments(M,R[0]):new THREE.Mesh(M,R[0]);T.name=x.name,g.add(T)}}return g}},t.exports=i},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=i(7),f=i(2),m=i(8),v=function(t){function e(t){var i;return a()(this,e),(i=h()(this,l()(e).call(this)))._layerid=0,i.zIndex=1e3,i.status=\"running\",i.type=\"gps\",i.layers=[],i.clock=new THREE.Clock,i.clock.start(),i.initMap(t),i.initWorld(),i.map.hasGround&&i.addGround(),i.update(),i}return c()(e,t),s()(e,[{key:\"initMap\",value:function(t){this.map=Object.assign({rotation:0,width:1e3,height:600,pitch:45,zoom:21,center:[0,0]},t)}},{key:\"initWorld\",value:function(){this.renderer=new THREE.WebGLRenderer(Object.assign({alpha:!0,antialias:!0},this.map.rendererOptions)),this.renderer.setSize(this.map.width,this.map.height),this.map.container.appendChild(this.renderer.domElement),this.renderer.domElement.style.position=\"relative\",this.renderer.domElement.style[\"pointer-events\"]=\"none\",this.renderer.domElement.style[\"z-index\"]=++this.zIndex,this.scene=new THREE.Scene(Object.assign({},this.map.sceneOptions||{})),this.camera=new THREE.PerspectiveCamera(45,this.map.width/this.map.height,1e-6,5e9),this.layers=[],this.world=new THREE.Group,this.scene.add(this.world),this.camera.position.z=10,this.camera.position.x=this.map.center[0],this.camera.position.y=this.map.center[1],this.cameraControl=new d.default(this)}},{key:\"moveTo\",value:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.preScale;return t.userData.isGeoGroup?i=t:t.parent&&t.parent.userData.isGeoGroup&&(i=t.parent),i.scale.copy(a||1),i.position.copy(this.projectToWorld(e)),t.coordinates=e,t}},{key:\"update\",value:function(){var t,e=this,i=this.clock.getDelta();for(var n in this.layers)this.layers[n].update&&this.layers[n].update(i);this.renderer.render(this.scene,this.camera),(t=this.renderer.vr.getDevice())?this.animationframe=t.requestAnimationFrame((function(t){\"stop\"!=e.status&&e.update(i,t)})):this.animationframe=requestAnimationFrame((function(t){\"stop\"!=e.status&&e.update(i,t)}))}},{key:\"projectToWorld\",value:function(t){return{x:t[0],y:t[1],z:t[2]||0}}},{key:\"unprojectFromWorld\",value:function(t){return[t.x,t.y,t.z]}},{key:\"projectToScreen\",value:function(t){var e=Object.assign({},t);e[1]=-e[1];var i=this.projectToWorld(e),n=this.world.getWorldPosition().clone().add(i).project(this.camera),a=this.map.width/2,r=this.map.height/2;return{x:Math.round(n.x*a+a),y:this.map.height-Math.round(n.y*r+r)}}},{key:\"unprojectFromScreen\",value:function(t){var e=this.map.width/2,i=this.map.height/2,n=-(t.x-e)/e,a=(this.map.height-t.y-i)/i,r=new THREE.Vector3(n,a,0).unproject(this.camera),s=this.world.getWorldPosition().clone(),o=this.unprojectFromWorld(r.sub(s));return o[1]=-o[1],o}},{key:\"add\",value:function(t,e,i){var n=new THREE.Group;return n.userData.isGeoGroup=!0,n.add(t),this.world.add(n),this.moveTo(t,e,i),t}},{key:\"addGround\",value:function(){var t=new THREE.PlaneGeometry(m.WORLD_SIZE,m.WORLD_SIZE),e=new THREE.MeshPhongMaterial({color:this.map.groundColor||6710886,shininess:30}),i=new THREE.Mesh(t,e);i.position.z=-.01,this.addAtCoordinate(i,this.map.center,{scaleToLatitude:!0,preScale:100})}},{key:\"remove\",value:function(t){this.world.remove(t)}},{key:\"setupDefaultLights\",value:function(){this.scene.add(new THREE.AmbientLight(13421772));var t=new THREE.DirectionalLight(16777215,.5);t.position.set(0,800,1e3),t.matrixWorldNeedsUpdate=!0,this.world.add(t)}}]),e}(f.default);e.default=v},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}},function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"prettyPrintMatrix\",(function(){return r})),i.d(e,\"makePerspectiveMatrix\",(function(){return s})),i.d(e,\"radify\",(function(){return o})),i.d(e,\"degreeify\",(function(){return h}));var n=i(6),a=i.n(n);function r(t){for(var e=0;e<4;e++)t[e],t[e+4],t[e+8],t[e+12]}function s(t,e,i,n){var a=new THREE.Matrix4,r=1/Math.tan(t/2),s=1/(i-n);return a.elements[0]=r/e,a.elements[1]=0,a.elements[2]=0,a.elements[3]=0,a.elements[4]=0,a.elements[5]=r,a.elements[6]=0,a.elements[7]=0,a.elements[8]=0,a.elements[9]=0,a.elements[10]=(n+i)*s,a.elements[11]=-1,a.elements[12]=0,a.elements[13]=0,a.elements[14]=2*n*i*s,a.elements[15]=0,a}function o(t){return\"object\"===a()(t)?t.map((function(t){return 2*Math.PI*t/360})):2*Math.PI*t/360}function h(t){return 360*t/(2*Math.PI)}},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=function(t){function e(t){var i;for(var n in a()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={target:null,viewRotation:0,targetRotation:0,autoUpdate:!1,lockRotation:!0},i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return c()(e,t),s()(e,[{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.initCamera()}},{key:\"initCamera\",value:function(){}},{key:\"update\",value:function(){this.autoUpdate&&this.updateCamera()}},{key:\"updateCamera\",value:function(t){if(!this.target)return!1;var e=this.target.coordinates;this.lockRotation&&(t||(t=180*this.target.rotation.z/Math.PI+this.targetRotation+this.viewRotation),this.pigeonMap.cameraControl.setRotation(t)),this.pigeonMap.cameraControl.setCenter(e),this.pigeonMap.cameraControl.updateCamera()}}]),e}(i(2).default);e.default=d},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=function(t){function e(t){var i;for(var n in a()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={zoomBase:600,moveSpeed:1,pitchSpeed:.1,rotateSpeed:.15},i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return c()(e,t),s()(e,[{key:\"onAdd\",value:function(t){var e=this;this.pigeonMap=t,this.map=this.pigeonMap.map,this.cameraControl=this.pigeonMap.cameraControl,this.initConfig(),this.listenEvents(),this.on(\"change\",(function(){e.pigeonMap.fire(\"change\"),e.cameraControl.update()}))}},{key:\"initConfig\",value:function(){}},{key:\"listenEvents\",value:function(){var t=this;this.onDown=function(e){0==e.button?t.mouseStatus=\"left\":2==e.button&&(t.mouseStatus=\"right\"),t.mouseDownPosition={x:e.clientX,y:e.clientY},t.map.container.addEventListener(\"mousemove\",t.onMove)},this.onUp=function(e){t.mouseStatus=!1,t.map.container.removeEventListener(\"mousemove\",t.onMove)},this.onMove=function(e){if(t.mouseStatus){if(\"left\"==t.mouseStatus){var i=e.clientY-t.mouseDownPosition.y,n=e.clientX-t.mouseDownPosition.x,a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));if(a<.1)return!1;var r=(n>0?-1:1)*Math.asin(i/a)+t.map.transform.angle,s=t.moveSpeed*(t.map.zoom/(t.zoomBase+t.map.zoom));t.map.center[0]+=(n>0?-1:1)*(a*Math.cos(r))*s,t.map.center[1]+=(n>0?-1:1)*(a*Math.sin(r))*s,t.cameraControl.update(),t.fire(\"move\",e),t.fire(\"change\",e)}else\"right\"==t.mouseStatus&&(t.map.pitch+=t.pitchSpeed*(e.clientY-t.mouseDownPosition.y),t.map.pitch>90?t.map.pitch=90:t.map.pitch<0&&(t.map.pitch=0),t.map.rotation-=t.rotateSpeed*(e.clientX-t.mouseDownPosition.x),t.cameraControl.update(),t.fire(\"rotate\",e),t.fire(\"change\",e));t.mouseDownPosition={x:e.clientX,y:e.clientY}}},this.onWheel=function(e){if(t.map.zoom-=e.deltaY*t.map.zoom/t.zoomBase,t.map.zoom<5)return t.map.zoom=5;t.cameraControl.update(),e.preventDefault(),t.fire(\"zoom\",e),t.fire(\"change\",e)},this.onContextmenu=function(t){t.preventDefault(),t.stopPropagation()},this.map.container.addEventListener(\"mousedown\",this.onDown),this.map.container.addEventListener(\"mouseup\",this.onUp),this.map.container.addEventListener(\"mousemove\",this.onMove),this.map.container.addEventListener(\"wheel\",this.onWheel),this.map.container.addEventListener(\"contextmenu\",this.onContextmenu)}},{key:\"removeListenr\",value:function(){this.map.container.removeEventListener(\"mousedown\",this.onDown),this.map.container.removeEventListener(\"mouseup\",this.onUp),this.map.container.removeEventListener(\"mousemove\",this.onMove),this.map.container.removeEventListener(\"wheel\",this.onWheel),this.map.container.removeEventListener(\"contextmenu\",this.onContextmenu)}}]),e}(i(2).default);e.default=d},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=function(t){function e(t){var i;for(var n in a()(this,e),(i=h()(this,l()(e).call(this,t))).defaultParams={fontSize:\"14px\",color:\"#000000\",canvasRender:!1},i.texts=[],i.textId=0,i.defaultParams)void 0===i[n]&&(i[n]=i.defaultParams[n]);return i}return c()(e,t),s()(e,[{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.canvasRender?this.initCanvas():this.initDom();var e=this;function i(){e.updateText()}this.change=i,this.pigeonMap.on(\"change\",i)}},{key:\"initDom\",value:function(){this.container=this.pigeonMap.map.container;var t=document.createElement(\"div\");t.id=\"text_layer_\"+this.id,t.className=\"pigeonGL-text-layer\",t.setAttribute(\"width\",this.pigeonMap.map.width),t.setAttribute(\"height\",this.pigeonMap.map.height),t.style.position=\"absolute\",t.style.top=\"0\",t.style.left=\"0\",t.style.zIndex=++this.pigeonMap.zIndex,this.dom=t,this.container.appendChild(t)}},{key:\"initCanvas\",value:function(){this.container=this.pigeonMap.map.container;var t=document.createElement(\"canvas\");t.id=\"text_layer_\"+this.id,this.container.appendChild(t),t.setAttribute(\"width\",this.pigeonMap.map.width),t.setAttribute(\"height\",this.pigeonMap.map.height),t.style.position=\"absolute\",t.style.top=\"0\",t.style.left=\"0\",t.style.zIndex=++this.pigeonMap.zIndex,this.canvas=t}},{key:\"addText\",value:function(t){return(t=Object.assign({},t)).id=t.id||\"_text_\"+this.textId++,this.texts.push(t),t}},{key:\"drawText\",value:function(){this.canvasRender?this.drawCanvasText():this.drawDomText()}},{key:\"drawDomText\",value:function(){for(var t in this.dom.innerHTML=\"\",this.texts){var e=this.pigeonMap.projectToScreen(this.texts[t].lnglat),i=document.createElement(\"span\");for(var n in i.id=this.texts[t].id,i.innerHTML=this.texts[t].text,this.dom.appendChild(i),i.style.position=\"absolute\",i.style.top=e.y+\"px\",i.style.left=e.x+\"px\",this.texts[t].style)i.style[n]=this.texts[t].style[n]}}},{key:\"drawCanvasText\",value:function(){var t=this.canvas.getContext(\"2d\");for(var e in t.clearRect(0,0,this.canvas.width,this.canvas.height),this.texts){var i=this.pigeonMap.projectToScreen(this.texts[e].lnglat);t.font=this.texts[e].font||this.font,t.fillStyle=this.texts[e].color||this.color,t.fillText(this.texts[e].text,i.x,i.y)}}},{key:\"updateDomText\",value:function(){var t=this.dom.querySelectorAll(\"span\");for(var e in this.texts){var i=this.pigeonMap.projectToScreen(this.texts[e].lnglat);t[e].style.top=i.y+\"px\",t[e].style.left=i.x+\"px\"}}},{key:\"removeText\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return this.texts.splice(e,1),void this.drawText()}},{key:\"update\",value:function(){}},{key:\"updateText\",value:function(){this.canvasRender?this.drawCanvasText():this.updateDomText()}},{key:\"getText\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return this.text[e]}},{key:\"onRemove\",value:function(){this.pigeonMap.off(\"change\",this.change),this._listeners=null}},{key:\"getTextIndex\",value:function(t){for(var e in this.texts)if(this.texts[e].id==t)return e}}]),e}(i(2).default);e.default=d},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return d}));var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=function(t){function e(t){var i;return a()(this,e),(i=h()(this,l()(e).call(this,t))).noVR=!1,i.vrStatus=\"not suppert VR\",i.listenEvents(),i.getVRDisplays(),i}return c()(e,t),s()(e,[{key:\"getVRDisplays\",value:function(){var t=this;navigator.getVRDisplays&&navigator.getVRDisplays().then((function(e){e.length>0?(t.device=e[0],t.renderer.vr.enabled=!0,t.pigeonMap.renderer.vr.setDevice(t.device),t.frameData=new VRFrameData):(t.vrStatus=\"noDisplay\",console.warn(\"no vr displays\"))})).catch((function(t){console.warn(\"Unable to get VR Displays\")}))}},{key:\"listenEvents\",value:function(){var t=this;window.addEventListener(\"vrdisplayconnect\",(function(e){t.device=e.display||e.detail.display,t.status,t.renderer.vr.enabled=!0,t.fire(\"connected\",t.device)}),!1),window.addEventListener(\"vrdisplaydisconnect\",(function(e){t.status,t.renderer.vr.enabled=!1,t.fire(\"disconnet\",t.device)}),!1),window.addEventListener(\"vrdisplaypresentchange\",(function(e){t.device=e.display||e.detail.display,t.fire(\"statuschange\",t.device)}),!1)}},{key:\"enterVR\",value:function(){this.device.requestPresent([{source:this.renderer.domElement}])}},{key:\"exitVR\",value:function(){this.device.exitPresent()}},{key:\"createButton\",value:function(t){var e=this;t||((t=document.createElement(\"button\")).style.position=\"absolute\",t.style.bottom=\"20px\",t.style.padding=\"12px 6px\",t.style.border=\"1px solid #fff\",t.style.borderRadius=\"4px\",t.style.background=\"transparent\",t.style.color=\"#fff\",t.style.textAlign=\"center\",t.style.opacity=\"0.5\",t.style.outline=\"none\",t.style.zIndex=\"9999\",t.style.cursor=\"auto\",t.style.left=\"calc(50% - 75px)\",t.style.width=\"150px\",t.textContent=\"Enter VR\",document.body.appendChild(t)),t.addEventListener(\"click\",(function(){e.device&&e.enterVR()}))}},{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.renderer=t.renderer,this.initVRRenderer()}},{key:\"initVRRenderer\",value:function(){}}]),e}(i(2).default)},function(t,e,i){\"use strict\";i.r(e);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(3),h=i.n(o),u=i(4),l=i.n(u),p=i(5),c=i.n(p),d=function(t){function e(t){var i;return a()(this,e),(i=h()(this,l()(e).call(this,t))).lanePoints=[],i.initPoints(),i}return c()(e,t),s()(e,[{key:\"initPoints\",value:function(){this.material=new THREE.PointsMaterial({color:16777215,size:10}),this.pointsGeometry=new THREE.BufferGeometry,this.points=new THREE.Points(this.pointsGeometry,this.material)}},{key:\"onAdd\",value:function(t){this.pigeonMap=t,this.pigeonMap.world.add(this.points)}},{key:\"drawPoints\",value:function(t){this.baseLngLat=t[0],this.baseXYZ=this.pigeonMap.projectToWorld(this.baseLngLat);var e,i=[],n=[],a=[];for(var r in t)e=this.pigeonMap.projectToWorld(t[r]),i.push(e.x-this.baseXYZ.x,e.y-this.baseXYZ.y,e.z-this.baseXYZ.z),a.push(t[r]),n.push(r);this.points.geometry.addAttribute(\"position\",new THREE.Float32BufferAttribute(i,3)),this.points.geometry.computeBoundingSphere(),this.points.position.x=this.baseXYZ.x,this.points.position.y=this.baseXYZ.y,this.points.position.z=this.baseXYZ.z}}]),e}(i(2).default);e.default=d}]);","extractedComments":[]}